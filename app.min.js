!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),t.exports=n(19)},function(t,e){"use strict";t.exports=angular.module("DongsuApp",["templates-html","ngTouch","rx"]).config(["$compileProvider","$httpProvider",function(t,e){t.debugInfoEnabled(!1),e.useApplyAsync(!0)}])},function(t,e,n){"use strict";function r(t){return function(e){return t.time(e)}}function i(t){return function(e){return t.minute(e)}}function o(t){return function(e){return t.date(e)}}r.$inject=["Util"],i.$inject=["Util"],o.$inject=["Util"],n(1).filter("time",r).filter("minute",i).filter("date",o)},function(t,e,n){"use strict";n(1).value("Sample",{"2016-05-23":{first:"2016-05-22T21:00:31.000Z",last:"2016-05-23T17:38:31.000Z",excepts:[{label:0,time:25},{label:1,time:73}],type:"8h"},"2016-05-24":{first:"2016-05-24T00:00:23.000Z",last:"2016-05-24T12:22:31.000Z",excepts:[{label:0,time:25},{label:1,time:53}],type:"8h"},"2016-05-25":{first:"2016-05-25T01:00:23.000Z",last:"2016-05-25T07:22:31.000Z",excepts:[{label:0,time:48},{label:1,time:23}],type:"4h"}}).value("Labels",{0:{name:"기타"},1:{name:"헬스",color:"#C05B4B"}})},function(t,e,n){"use strict";function r(t,e,n){function r(t){var e=moment(t).day();return 0==e||6==e?{excepts:[],type:c.DAY_OFF}:{excepts:[],type:c.FULL}}function i(){return s}function o(t){return _.extend(t,e.getWorkingTime(t))}var u=this,c=e.WORK_TYPE,s=_(t.workWeek()).map(function(t){return _.extend({},n[t]||r(t),{workDate:t})}).map(function(t){return _.extend(t,e.getWorkingTime(t))}).value();u.load=i,u.update=o}r.$inject=["Week","Time","Sample"],n(1).service("Storage",r)},function(t,e,n){"use strict";function r(){function t(t){var e=moment(t);return e.utcOffset(e.utcOffset()-a).format("YYYY-MM-DD")}function e(t,e){return e!=i.DAY_OFF?0>t?0:240>t?t:270>t?240:480>t?t-30:t-60:t}function n(t,e){return e==i.DAY_OFF?0:Math.min(t,720)}function r(t,e){return t-_.sumBy(e,function(t){return t.time})}function o(t){var e=t-480;return 120>e?0:240>e?2:360>e?4:6}function u(t){return 240>t?0:360>t?4:480>t?6:8}function c(t){return t.first&&t.last?s(t):{total:0,working:0,effective:0,extra:0}}function s(c){var s,l,f,m,d,p=moment(c.first),v=moment(c.last),h=t(p),k=t(v);return h>k?0:(k>h&&(v=moment(h).endOf("date").add(a,"m")),s=v.diff(p,"minutes"),l=e(s,c.type),f=n(l,c.type),m=r(l,c.excepts),d=c.type==i.DAY_OFF?u(m):o(m),{total:s,digested:l,working:f,effective:m,extra:d})}var l=this,a=300;l.getWorkDate=t,l.getWorkingTime=c,l.WORK_TYPE=i}n(1).service("Time",r);var i={DAY_OFF:"NA",HOLIDAY:"0h",HALF:"4h",FULL:"8h"}},function(t,e,n){"use strict";function r(){function t(t){var e=""+t;return("00"+e).substr(Math.min(e.length,2))}function e(e){if(e){var n,r;return n=parseInt(e/60),r=e-60*n,t(n)+":"+t(r)}}function n(t,e){return t?moment(t).format(e||"HH:mm"):void 0}function r(t,e){return t?moment(t).format(e||"MM/DD"):void 0}var i=this;i.time=e,i.minute=n,i.date=r}n(1).service("Util",r)},function(t,e,n){"use strict";function r(t){function e(e){e=e||0;var n=moment(t.getWorkDate());return n.subtract((n.day()+6)%7,"d"),n.add(7*e,"d"),_(7).range().map(function(t){return moment(n).add(t,"d").format("YYYY-MM-DD")}).reverse().value()}var n=this;n.workWeek=e}r.$inject=["Time"],n(1).service("Week",r)},function(t,e,n){"use strict";function r(t,e){function n(){return _(a).map(function(t){return t.type}).map(function(t){switch(t){case f.FULL:return 480;case f.HALF:return 240;default:return 0}}).sum()}function r(){return _(a).map(function(t){return t.working}).sum()}function i(){return Math.floor(100*r()/n())}function o(){return 100-i()}function u(){return{width:i()+"%"}}function c(){return{width:o()+"%"}}function s(){return _.find(a,function(e){return e.workDate==t.getWorkDate()})}var l=this,a=e.load(),f=t.WORK_TYPE;l.today=s(),l.getFullWorkingTime=n,l.getTotalWorkedTime=r,l.getWorkedGauge=u,l.getRemainGauge=c}function i(){return{restrict:"E",templateUrl:"views/board.tpl.html",controller:r,controllerAs:"board"}}r.$inject=["Time","Storage"],n(1).directive("dsBoard",i)},function(t,e,n){"use strict";function r(t,e,n){var r=n.dsChange;t.$watch(function(){return e.val()},function(e,n){e!==n&&t.$eval(r,{$value:e})}),e.on("change",function(){t.$apply()})}function i(){return{restrict:"A",controller:r}}r.$inject=["$scope","$element","$attrs"],n(1).directive("dsChange",i)},function(t,e,n){"use strict";function r(t,e,n){var r=n.dsTimeValue;t.$watch(r,function(t,n){e.val(t)})}function i(){return{restrict:"A",controller:r}}r.$inject=["$scope","$element","$attrs"],n(1).directive("dsTimeValue",i)},function(t,e,n){"use strict";function r(t,e,n){function r(){return _.sumBy(l.excepts,"time")}function i(t,e){var n=moment(t,"HH:mm"),r=moment(e);return r.hours(n.hours()),r.minutes(n.minutes()),r.toISOString()}function o(t){return l.first=i(t,l.first),n.update(l)}function u(t){return l.last=i(t,l.last),n.update(l)}function c(t){!t&&s.modify&&(s.modify=!1)}var s=this,l=t.work.work;s.first=e.minute(l.first),s.last=e.minute(l.last),s.getTotal=r,s.setFirst=o,s.setLast=u,t.$watch("work.flip",c),t.$watch("week.edit",c)}function i(){return{restrict:"E",templateUrl:"views/excepts.tpl.html",controller:r,controllerAs:"excepts"}}r.$inject=["$scope","Util","Storage"],n(1).directive("dsExcepts",i)},function(t,e,n){"use strict";function r(t,e,n,r){function i(){o.name=u.name,e.css({"background-color":u.color||"#90AFAA"})}var o=this,u=r[t.$eval(n.label)];i()}function i(){return{template:'<span class="label">{{label.name}}</span>',replace:!0,controller:r,controllerAs:"label"}}r.$inject=["$scope","$element","$attrs","Labels"],n(1).directive("dsLabel",i)},function(t,e,n){"use strict";function r(t,e){function n(){t.$apply()}function r(t){return 0==t||t>0}function i(){24==a.hours&&a.minute>0&&(a.hours=23),s.val(r(a.hours)?a.hours:""),l.val(r(a.minute)?a.minute:"")}function o(t,e,n){return e>t?e:t>n?n:t}function u(t){if(r(t))a.hours=o(~~(t/60),0,24),a.minute=t%60,i();else if(""==t)a.hours=void 0,a.minute=void 0,i();else if(void 0!=a.hours&&void 0!=a.minute)return 60*a.hours+a.minute}var c=this,s=e.find(".lap_time_hours"),l=e.find(".lap_time_minute"),a={hours:void 0,minute:void 0};c.val=u,s.on("click",n),s.on("keyup",n),l.on("click",n),l.on("keyup",n),t.$watch(function(){return s.val()},function(t,e){t!=e&&(a.hours=+t,i())}),t.$watch(function(){return l.val()},function(t,e){t!=e&&(a.minute=+t,i())})}function i(){return{restrict:"E",templateUrl:"views/lapTime.tpl.html",controller:r,controllerAs:"lap"}}r.$inject=["$scope","$element"],n(1).directive("lapTime",i)},function(t,e,n){"use strict";function r(t){var e=this;e.data=t.load()}function i(){return{restrict:"E",templateUrl:"views/main.tpl.html",controller:r,controllerAs:"main"}}r.$inject=["Storage"],n(1).directive("dsMain",i)},function(t,e,n){"use strict";function r(t,e){function n(t){return u.work.type==t}function r(){return c?"Today":e.date(u.work.workDate)}function i(){return c}function o(t){return u.work.type=t}var u=this,c=u.work.workDate==t.getWorkDate();u.isSelected=n,u.getDate=r,u.isToday=i,u.select=o}function i(){return{restrict:"A",templateUrl:"views/mode.tpl.html",scope:{work:"=dsMode"},replace:!0,controller:r,controllerAs:"mode",bindToController:!0}}r.$inject=["Time","Util"],n(1).directive("dsMode",i)},function(t,e,n){"use strict";function r(){var t=this;t.flip=!0}function i(){return{restrict:"E",templateUrl:"views/summaries.tpl.html",controller:r,controllerAs:"summaries"}}n(1).directive("dsSummaries",i)},function(t,e,n){"use strict";function r(){function t(){e.edit=!e.edit}var e=this;e.toggle=t,e.edit=!1}function i(){return{restrict:"E",templateUrl:"views/week.tpl.html",controller:r,controllerAs:"week"}}n(1).directive("dsWeek",i)},function(t,e,n){"use strict";function r(t,e){function n(){o.flip=!o.flip}function r(){return u?"Today":e.date(o.work.workDate)}function i(){return u}var o=this,u=o.work.workDate==t.getWorkDate();o.flip=!u,o.toggle=n,o.getDate=r,o.isToday=i}function i(){return{restrict:"A",templateUrl:"views/work.tpl.html",scope:{work:"=dsWork"},replace:!0,controller:r,controllerAs:"work",bindToController:!0}}r.$inject=["Time","Util"],n(1).directive("dsWork",i)},function(t,e,n){"use strict";function r(t){}function i(){return{restrict:"E",templateUrl:"views/workBtn.tpl.html",controller:r}}r.$inject=["Time"],n(1).directive("dsWorkBtn",i)}]);